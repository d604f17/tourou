{"version":3,"sources":["../../src/strategies/BoundedBox.js"],"names":["BoundedBox","nw","se","a","longitude","w","latitude","n","b","e","s","Math","round","unit","waypoints","minLat","minLon","maxLat","maxLon","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","forEach","waypoint"],"mappings":";;;;;;;;;;AAAA;;;;;;;;IAEMA,U;AACJ,sBAAYC,EAAZ,EAAgBC,EAAhB,EAAoB;AAAA;;AAClB,SAAKD,EAAL,GAAUA,EAAV;AACA,SAAKC,EAAL,GAAUA,EAAV;AACD;;;;wBAEO;AACN,aAAO,KAAKD,EAAL,CAAQ,CAAR,CAAP;AACD;;;wBAEO;AACN,aAAO,KAAKA,EAAL,CAAQ,CAAR,CAAP;AACD;;;wBAEO;AACN,aAAO,KAAKC,EAAL,CAAQ,CAAR,CAAP;AACD;;;wBAEO;AACN,aAAO,KAAKA,EAAL,CAAQ,CAAR,CAAP;AACD;;;wBAEuB;AACtB,UAAMC,IAAI,EAACC,WAAW,KAAKC,CAAjB,EAAoBC,UAAU,KAAKC,CAAnC,EAAV;AACA,UAAMC,IAAI,EAACJ,WAAW,KAAKK,CAAjB,EAAoBH,UAAU,KAAKI,CAAnC,EAAV;AACA,aAAOC,KAAKC,KAAL,CAAW,yBAAUT,CAAV,EAAaK,CAAb,EAAgB,EAACK,MAAM,OAAP,EAAhB,CAAX,CAAP;AACD;;;0CAE4BC,S,EAAW;AACtC,UAAIC,eAAJ;AAAA,UAAYC,eAAZ;AAAA,UAAoBC,eAApB;AAAA,UAA4BC,eAA5B;AACAH,eAASC,SAASG,OAAOC,gBAAzB;AACAH,eAASC,SAASC,OAAOE,gBAAzB;;AAEAP,gBAAUQ,OAAV,CAAkB,oBAAY;AAAA,uCACEC,QADF;AAAA,YACrBnB,SADqB;AAAA,YACVE,QADU;;AAE5B,YAAIA,WAAWS,MAAf,EAAuBA,SAAST,QAAT;AACvB,YAAIA,WAAWW,MAAf,EAAuBA,SAASX,QAAT;AACvB,YAAIF,YAAYY,MAAhB,EAAwBA,SAASZ,SAAT;AACxB,YAAIA,YAAYc,MAAhB,EAAwBA,SAASd,SAAT;AACzB,OAND;;AAQA,aAAO,IAAIJ,UAAJ,CAAe,CAACgB,MAAD,EAASC,MAAT,CAAf,EAAiC,CAACC,MAAD,EAASH,MAAT,CAAjC,CAAP;AACD;;;;;;kBAGYf,U","file":"BoundedBox.js","sourcesContent":["import haversine from 'haversine';\r\n\r\nclass BoundedBox {\r\n  constructor(nw, se) {\r\n    this.nw = nw;\r\n    this.se = se;\r\n  }\r\n\r\n  get n() {\r\n    return this.nw[1];\r\n  }\r\n\r\n  get w() {\r\n    return this.nw[0];\r\n  }\r\n\r\n  get s() {\r\n    return this.se[1];\r\n  }\r\n\r\n  get e() {\r\n    return this.se[0];\r\n  }\r\n\r\n  get haversineDistance() {\r\n    const a = {longitude: this.w, latitude: this.n};\r\n    const b = {longitude: this.e, latitude: this.s};\r\n    return Math.round(haversine(a, b, {unit: 'meter'}));\r\n  }\r\n\r\n  static generateFromWaypoints(waypoints) {\r\n    let minLat, minLon, maxLat, maxLon;\r\n    minLat = minLon = Number.MAX_SAFE_INTEGER;\r\n    maxLat = maxLon = Number.MIN_SAFE_INTEGER;\r\n\r\n    waypoints.forEach(waypoint => {\r\n      const [longitude, latitude] = waypoint;\r\n      if (latitude < minLat) minLat = latitude;\r\n      if (latitude > maxLat) maxLat = latitude;\r\n      if (longitude < minLon) minLon = longitude;\r\n      if (longitude > maxLon) maxLon = longitude;\r\n    });\r\n\r\n    return new BoundedBox([minLon, maxLat], [maxLon, minLat]);\r\n  }\r\n}\r\n\r\nexport default BoundedBox;"]}