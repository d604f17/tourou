{"version":3,"sources":["../../src/bruteforce/_RouteCollection.js"],"names":["RouteCollection","route","console","time","matches","some","r","hash","timeEnd","length","index","indexOf","match","splice","distance","push","Array"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAMA,e;;;;;;;;;;;iDASyBC,K,EAAO;AAClCC,cAAQC,IAAR,CAAa,QAAb;AACA,UAAMC,UAAU,KAAKC,IAAL,CAAU;AAAA,eAAKC,EAAEC,IAAF,KAAWN,MAAMM,IAAtB;AAAA,OAAV,CAAhB;AACAL,cAAQM,OAAR,CAAgB,QAAhB;AACA,UAAIJ,QAAQK,MAAR,GAAiB,CAArB,EAAwB;AACtB,YAAMC,QAAQ,KAAKC,OAAL,CAAaP,QAAQ,CAAR,CAAb,CAAd;AACA,YAAMQ,QAAQ,KAAKC,MAAL,CAAYH,KAAZ,EAAmB,CAAnB,EAAsB,CAAtB,CAAd;;AAEA,YAAIT,MAAMa,QAAN,GAAiBF,MAAME,QAA3B,EAAqC;AACnC,eAAKD,MAAL,CAAYH,KAAZ,EAAmB,CAAnB,EAAsBT,KAAtB;AACD,SAFD,MAEO;AACL,eAAKY,MAAL,CAAYH,KAAZ,EAAmB,CAAnB,EAAsBE,KAAtB;AACD;AACF,OATD,MASO;AACL,aAAKG,IAAL,CAAUd,KAAV;AACD;AACF;;;wBAxBW;AACV,aAAO,KAAK,CAAL,CAAP;AACD;;;wBAEU;AACT,aAAO,KAAKQ,MAAL,GAAc,CAAd,GAAkB,IAAlB,GAAyB,KAAK,KAAKA,MAAL,GAAc,CAAnB,CAAhC;AACD;;;;qBAP2BO,K;;kBA4BfhB,e","file":"_RouteCollection.js","sourcesContent":["class RouteCollection extends Array {\r\n  get first() {\r\n    return this[0];\r\n  }\r\n\r\n  get last() {\r\n    return this.length < 1 ? this : this[this.length - 1];\r\n  }\r\n\r\n  pushOrReplaceIfLowerDistance(route) {\r\n    console.time('filter');\r\n    const matches = this.some(r => r.hash === route.hash);\r\n    console.timeEnd('filter');\r\n    if (matches.length > 0) {\r\n      const index = this.indexOf(matches[0]);\r\n      const match = this.splice(index, 1)[0];\r\n\r\n      if (route.distance < match.distance) {\r\n        this.splice(index, 0, route);\r\n      } else {\r\n        this.splice(index, 0, match);\r\n      }\r\n    } else {\r\n      this.push(route);\r\n    }\r\n  }\r\n}\r\n\r\nexport default RouteCollection;"]}