{"version":3,"sources":["../../src/bruteforce/RouteCollection.js"],"names":["RouteCollection","routes","route","hash","key","Object","keys","match","distance","add","map","length"],"mappings":";;;;;;;;;;IAAMA,e;;;;SACJC,M,GAAS,E;;;;;wBAMLC,K,EAAO;AACT,WAAKD,MAAL,CAAYC,MAAMC,IAAlB,IAA0BD,KAA1B;AACD;;;4BAEO;AACN,UAAME,MAAMC,OAAOC,IAAP,CAAY,KAAKL,MAAjB,EAAyB,CAAzB,CAAZ;AACA,UAAMC,QAAQ,KAAKD,MAAL,CAAYG,GAAZ,CAAd;AACA,aAAO,KAAKH,MAAL,CAAYG,GAAZ,CAAP;AACA,aAAOF,KAAP;AACD;;;gDAE2BA,K,EAAO;AACjC,UAAIK,QAAQ,KAAKN,MAAL,CAAYC,MAAMC,IAAlB,CAAZ;;AAEA,UAAII,KAAJ,EAAW;AACT,YAAIL,MAAMM,QAAN,GAAiBD,MAAMC,QAA3B,EAAqC;AACnC,eAAKP,MAAL,CAAYC,MAAMC,IAAlB,IAA0BD,KAA1B;AACD;AACF,OAJD,MAIO;AACL,aAAKO,GAAL,CAASP,KAAT;AACD;AACF;;;8BAES;AAAA;;AACR,aAAOG,OAAOC,IAAP,CAAY,KAAKL,MAAjB,EAAyBS,GAAzB,CAA6B;AAAA,eAAO,MAAKT,MAAL,CAAYG,GAAZ,CAAP;AAAA,OAA7B,CAAP;AACD;;;wBA7BY;AACX,aAAOC,OAAOC,IAAP,CAAY,KAAKL,MAAjB,EAAyBU,MAAhC;AACD;;;;;;kBA8BYX,e","file":"RouteCollection.js","sourcesContent":["class RouteCollection {\r\n  routes = {};\r\n\r\n  get length() {\r\n    return Object.keys(this.routes).length;\r\n  }\r\n\r\n  add(route) {\r\n    this.routes[route.hash] = route;\r\n  }\r\n\r\n  shift() {\r\n    const key = Object.keys(this.routes)[0];\r\n    const route = this.routes[key];\r\n    delete this.routes[key];\r\n    return route;\r\n  }\r\n\r\n  addOrReplaceIfLowerDistance(route) {\r\n    let match = this.routes[route.hash];\r\n\r\n    if (match) {\r\n      if (route.distance > match.distance) {\r\n        this.routes[route.hash] = route;\r\n      }\r\n    } else {\r\n      this.add(route);\r\n    }\r\n  }\r\n\r\n  toArray() {\r\n    return Object.keys(this.routes).map(key => this.routes[key]);\r\n  }\r\n}\r\n\r\nexport default RouteCollection;"]}